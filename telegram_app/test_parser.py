# test_parser.py
# Bu faylni Django loyihasining root papkasida yarating va ishga tushiring

import os
import django

os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'config.settings')
django.setup()

from telegram_app.utils import parse_shipment_text

# Sizning misol xabaringiz
test_text = """рџ“ўрџ“ўрџ“ўРЎР РћР§РќРћрџ“ўрџ“ўрџ“ў
рџ“ўрџ“ўрџ“ўРЎР РћР§РќРћрџ“ўрџ“ўрџ“ў




рџ‡·рџ‡єРўРћРњРЎРљ РђРЎРРќРћ

рџ‡єрџ‡їРўРђРЁРљР•РќРў
рџ‡єрџ‡їРҐРћР РђР—РРњ
Р“Р РЈР—  РњР”Р¤
РўР•РќРў  Р¤РЈР Рђ
Р Р•Р¤  Р¤РЈР Рђ
РћРџР›РђРўРђ  РќРђР›РР§РќР«Р™рџ’µ
РђР›РћРљРђ РЈР§РЈРќрџ“ћ+998917540644
Р’РђРўРЎРђРџ+998958633324
РРњРћ+998917540644

рџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћ

рџ‡§рџ‡ѕР‘Р•Р›РђР РЈРЎРЎРРЇвћЎпёЏРЎРњРђР Р“РћРќ

рџ‡єрџ‡їРўРђРЁРљР•РќРў
Р“Р РЈР—  Р”РЎРџ
РўР•РќРў  Р¤РЈР Рђ
РћРџР›РђРўРђ  РќРђР›РР§РќР«Р™рџ’µ
РђР›РћРљРђ РЈР§РЈРќрџ“ћ+998917540644
Р’РђРўРЎРђРџ+998958633324
РРњРћ+998917540644

рџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћ

рџ‡·рџ‡єР•Р“РћР Р¬Р•Р’РЎРљ

рџ‡єрџ‡їРўРђРЁРљР•РќРў
рџ‡єрџ‡їР’РћР”РР™
Р“Р РЈР—  РњР”Р¤
РўР•РќРў  Р¤РЈР Рђ
РћРџР›РђРўРђ  РќРђР›РР§РќР«Р™рџ’µ
РђР›РћРљРђ РЈР§РЈРќрџ“ћ+998917540644
Р’РђРўРЎРђРџ+998958633324
РРњРћ+998917540644

рџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћ

рџ‡·рџ‡єРљРђР›РЈР“РђвћЎпёЏР›Р®Р”РРќРћР’Рћ

рџ‡єрџ‡їРўРђРЁРљР•РќРў
рџ‡єрџ‡їРҐРћР РђР—РРњ
рџ‡єрџ‡їР¤РђР Р“РћРќРђ
рџ‡єрџ‡їР’РћР”РР™
Р“Р РЈР—  Р”РЎРџ
РўР•РќРў  Р¤РЈР Рђ
РћРџР›РђРўРђ  РќРђР›РР§РќР«Р™рџ’µ
РђР›РћРљРђ РЈР§РЈРќрџ“ћ+998917540644
Р’РђРўРЎРђРџ+998958633324
РРњРћ+998917540644

рџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћ

рџ‡·рџ‡єРЎРњРћР›Р•РќРЎРљ

рџ‡єрџ‡їРҐРћР РђР—РРњ
рџ‡єрџ‡їР’РћР”РР™
Р“Р РЈР—  Р›РђРњРРќРђРў
РўР•РќРў  Р¤РЈР Рђ
РћРџР›РђРўРђ  РќРђР›РР§РќР«Р™рџ’µ
РђР›РћРљРђ РЈР§РЈРќрџ“ћ+998917540644
Р’РђРўРЎРђРџ+998958633324
РРњРћ+998917540644

рџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћ

рџ‡·рџ‡єР­Р›Р•РљРўР РћР“РћР РЎРљ

рџ‡єрџ‡їРўРђРЁРљР•РќРў
рџ‡єрџ‡їРҐРћР РђР—РРњ
рџ‡єрџ‡їР’РћР”РР™
Р“Р РЈР—  Р”РЎРџ
РўР•РќРў  Р¤РЈР Рђ
РћРџР›РђРўРђ  РќРђР›РР§РќР«Р™рџ’µ
РђР›РћРљРђ РЈР§РЈРќрџ“ћ+998917540644
Р’РђРўРЎРђРџ+998958633324
РРњРћ+998917540644

рџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћ

рџ‡·рџ‡єРЈР¤Рђ

рџ‡єрџ‡їРўРђРЁРљР•РќРў
Р“Р РЈР—  Р¤РђРќР•Р 
РўР•РќРў  Р¤РЈР Рђ
РћРџР›РђРўРђ  РќРђР›РР§РќР«Р™рџ’µ
РђР›РћРљРђ РЈР§РЈРќрџ“ћ+998917540644
Р’РђРўРЎРђРџ+998958633324
РРњРћ+998917540644

рџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћ

рџ‡·рџ‡єРўРћРњРЎРљ Р›РђРўРђРў

рџ‡єрџ‡їРўРђРЁРљР•РќРў
Р“Р РЈР—  РњР”Р¤
РўР•РќРў  Р¤РЈР Рђ
Р Р•Р¤  Р¤РЈР Рђ
РћРџР›РђРўРђ  РќРђР›РР§РќР«Р™рџ’µ
РђР›РћРљРђ РЈР§РЈРќрџ“ћ+998917540644
Р’РђРўРЎРђРџ+998958633324
РРњРћ+998917540644

рџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћ

рџ‡·рџ‡єР’РћР›РћР“Р”Рђ Р’РћРҐРўРћР“Рђ

рџ‡єрџ‡їРўРђРЁРљР•РќРў
Р“Р РЈР—  Р”РЎРџ
РўР•РќРў  Р¤РЈР Рђ
РћРџР›РђРўРђ  РќРђР›РР§РќР«Р™рџ’µ
РђР›РћРљРђ РЈР§РЈРќрџ“ћ+998917540644
Р’РђРўРЎРђРџ+998958633324
РРњРћ+998917540644

рџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћ

рџ‡·рџ‡єРњРЈР РћРњР¬

рџ‡єрџ‡їРљРЈРљРћРќ
Р“Р РЈР—  Р”РЎРџ
РўР•РќРў  Р¤РЈР Рђ
РћРџР›РђРўРђ  РќРђР›РР§РќР«Р™рџ’µ
РђР›РћРљРђ РЈР§РЈРќрџ“ћ+998917540644
Р’РђРўРЎРђРџ+998958633324
РРњРћ+998917540644

рџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћ

рџ‡·рџ‡єРџР•РќР—Рђ

рџ‡єрџ‡їРўРђРЁРљР•РќРў
Р“Р РЈР—  Р”РЎРџ
РўР•РќРў  Р¤РЈР Рђ
РћРџР›РђРўРђ  РќРђР›РР§РќР«Р™рџ’µ
РђР›РћРљРђ РЈР§РЈРќрџ“ћ+998917540644
Р’РђРўРЎРђРџ+998958633324
РРњРћ+998917540644

рџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћ

рџ‡·рџ‡єР‘РђР РќРђРЈР›

рџ‡єрџ‡їРўРђРЁРљР•РќРў
рџ‡єрџ‡їРђРќР”РР–РћРќ
Р“Р РЈР—  РњР”Р¤
РўР•РќРў  Р¤РЈР Рђ
Р Р•Р¤  Р¤РЈР Рђ
РћРџР›РђРўРђ  РќРђР›РР§РќР«Р™рџ’µ
РђР›РћРљРђ РЈР§РЈРќрџ“ћ+998917540644
Р’РђРўРЎРђРџ+998958633324
РРњРћ+998917540644

рџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћ

рџ‡·рџ‡єРЁРђР Р¬РЇ

рџ‡єрџ‡їРўРђРЁРљР•РќРў
Р“Р РЈР—  Р”РЎРџ
РўР•РќРў  Р¤РЈР Рђ
РћРџР›РђРўРђ  РќРђР›РР§РќР«Р™рџ’µ
РђР›РћРљРђ РЈР§РЈРќрџ“ћ+998917540644
Р’РђРўРЎРђРџ+998958633324
РРњРћ+998917540644

рџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћ

рџ‡·рџ‡єР’РћР РћРќР•Р–

рџ‡єрџ‡їРўРђРЁРљР•РќРў
Р“Р РЈР—  РЎРўРђР›РР§РќРРўР¦Рђ
РўР•РќРў  Р¤РЈР Рђ
РћРџР›РђРўРђ  РљРћРњР‘Рћрџ’µ
РђР›РћРљРђ РЈР§РЈРќрџ“ћ+998917540644
Р’РђРўРЎРђРџ+998958633324
РРњРћ+998917540644

рџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћ

рџ‡·рџ‡єРЁРђРўРЈР Рђ

рџ‡єрџ‡їРўРђРЁРљР•РќРў
Р“Р РЈР—  Р”РЎРџ
РўР•РќРў  Р¤РЈР Рђ
РћРџР›РђРўРђ  РќРђР›РР§РќР«Р™рџ’µ
РђР›РћРљРђ РЈР§РЈРќрџ“ћ+998917540644
Р’РђРўРЎРђРџ+998958633324
РРњРћ+998917540644

рџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћ

рџ‡·рџ‡єРђР›РђРџРђР•Р’РЎРљ

рџ‡єрџ‡їРљРЈРљРћРќ
Р“Р РЈР—  Р”РЎРџ
РўР•РќРў  Р¤РЈР Рђ
РћРџР›РђРўРђ  РќРђР›РР§РќР«Р™рџ’µ
РђР›РћРљРђ РЈР§РЈРќрџ“ћ+998917540644
Р’РђРўРЎРђРџ+998958633324
РРњРћ+998917540644

рџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћ

рџ‡·рџ‡єР’Р›РђР”РРњРР 

рџ‡єрџ‡їРўРђРЁРљР•РќРў
Р“Р РЈР—  Р”РЎРџ
РўР•РќРў  Р¤РЈР Рђ
РћРџР›РђРўРђ  РќРђР›РР§РќР«Р™рџ’µ
РђР›РћРљРђ РЈР§РЈРќрџ“ћ+998917540644
Р’РђРўРЎРђРџ+998958633324
РРњРћ+998917540644

рџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћ

рџ‡·рџ‡єРЈР’Рђ

рџ‡єрџ‡їРўРђРЁРљР•РќРў
Р“Р РЈР—  РџРђР”Р”РћРњР”Рђ РђР‘РћР™
РўР•РќРў  Р¤РЈР Рђ
РћРџР›РђРўРђ  РќРђР›РР§РќР«Р™рџ’µ
РђР›РћРљРђ РЈР§РЈРќрџ“ћ+998917540644
Р’РђРўРЎРђРџ+998958633324
РРњРћ+998917540644


рџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћрџ’Ћ"""

# Parsing
result = parse_shipment_text(test_text)

print(f"вњ… Umumiy yuklar soni: {len(result)}\n")
print("=" * 80)

# Har bir yukni ko'rsatish
for i, shipment in enumerate(result, 1):
    print(f"\nрџ“¦ Yuk #{i}:")
    print(f"   рџ“Ќ Origin: {shipment['origin']}")
    print(f"   рџЋЇ Destination: {shipment['destination']}")
    print(f"   рџ“¦ Cargo: {shipment['cargo_type']}")
    print(f"   рџљ› Truck: {shipment['truck_type']}")
    print(f"   рџ’° Payment: {shipment['payment_type']}")
    print(f"   рџ“ћ Phone: {shipment['phone']}")
    print(f"   вљ–пёЏ  Weight: {shipment['weight']}")

print("\n" + "=" * 80)
print(f"\nвњ… JAMI: {len(result)} ta yuk topildi!")